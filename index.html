<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Check-list Di√°rio - LEFE</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            color: #333;
            margin: 5px;
            line-height: 1.6;
        }
        .container {
            max-width: 900px;
            margin: auto;
            background: white;
            padding: 5px;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        h1, h2 {
            color: #d90000;
            border-bottom: 2px solid #d90000;
            padding-bottom: 5px;
        }
        h1 {
            font-size: 24px;
            text-align: center;
        }
        h2 {
            font-size: 16px;
            margin-top: 5px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 10px 0;
        }
        th, td {
            padding: 5px;
            border: 1px solid #ccc;
            text-align: left;
        }
        th {
            background-color: #f0f0f0;
        }
        .status {
            text-align: center;
            font-weight: bold;
        }
        .ok { color: green; }
        .atencao { color: orange; }
        .erro { color: red; }
        .signature {
            margin-top: 15px;
        }
        .footer {
            margin-top: 15px;
            font-size: 12px;
            text-align: center;
            color: #666;
        }
        /* Toolbar e bot√£o de impress√£o */
        .toolbar {
            position: sticky;
            top: 0;
            z-index: 999;
            background: transparent;
            max-width: 900px;
            margin: 0 auto 5px;
            text-align: right;
        }
        .btn-print, .btn-email {
            background: #d90000;
            color: #fff;
            border: none;
            padding: 5px 14px;
            border-radius: 5px;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0,0,0,0.10);
            margin-left: 5px;
        }
        .btn-print:hover, .btn-email:hover {
            background: #b80000;
        }
        .file-input-container {
            display: inline-block;
            margin-left: 5px;
            position: relative;
            overflow: hidden;
            background: #d90000;
            color: #fff;
            padding: 5px 14px;
            border-radius: 5px;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0,0,0,0.10);
        }
        .file-input-container:hover {
            background: #b80000;
        }
        .file-input-container input[type=file] {
            position: absolute;
            left: 0;
            top: 0;
            opacity: 0;
            cursor: pointer;
        }
        .notification {
            position: fixed;
            bottom: 20px;
            right: 20px;
            padding: 15px;
            border-radius: 5px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            display: none;
            z-index: 1000;
            max-width: 300px;
        }
        .notification.success {
            background: #4CAF50;
            color: white;
        }
        .notification.error {
            background: #f44336;
            color: white;
        }
        .notification.warning {
            background: #ff9800;
            color: white;
        }
        .file-preview {
            margin-top: 10px;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }
        .file-item {
            position: relative;
            border: 1px solid #ddd;
            padding: 5px;
            border-radius: 5px;
            background: #f9f9f9;
            max-width: 200px;
        }
        .file-item img {
            max-width: 100%;
            max-height: 150px;
            display: block;
        }
        .file-item .file-name {
            font-size: 12px;
            margin-top: 5px;
            word-break: break-all;
        }
        .file-item .remove-file {
            position: absolute;
            top: 5px;
            right: 5px;
            background: rgba(255,255,255,0.7);
            border: none;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: #d90000;
        }
        .required-field {
            border: 1px solid #d90000 !important;
        }
        @media print {
            .no-print, .no-print * {
                display: none !important;
            }
            body, .container {
                margin: 0;
                padding: 0;
                box-shadow: none;
                border-radius: 0;
            }
        }
    </style>
</head>
<body>
    <!-- Bot√£o de impress√£o e email -->
    <div class="toolbar no-print">
        <button class="btn-print" onclick="window.print()">üñ®Ô∏è Imprimir</button>
        <div class="file-input-container">
            üìé Carregar Arquivos
            <input type="file" id="fileInput" multiple accept="image/*">
        </div>
        <button class="btn-email" onclick="enviarPorEmail()">‚úâÔ∏è Enviar por E-mail</button>
    </div>
    
    <div class="container">
        <h1>üöë LEFE - SERVI√áO DE EMERG√äNCIAS M√âDICAS</h1>
        <h2> üìã CHECK-LIST DI√ÅRIO DE INSPE√á√ÉO VEICULAR E EQUIPAMENTOS</h2>
        <p><strong>Hospital:</strong> <input type="text" id="hospital" value="Hospital HRL" style="width: 300px;"> &nbsp;
        <strong>Data:</strong> <input type="date" id="data" style="width: 110px;"> <br>
        <strong>Hor√°rio de Entrada:</strong> <input type="time" id="horarioEntrada" value="07:00" style="width: 80px;"> &nbsp;
        <strong>Hor√°rio de Sa√≠da:</strong> <input type="time" id="horarioSaida" value="07:00" style="width: 80px;"> <br>
        <strong>Condutor de Plant√£o:</strong> <input type="text" id="condutorPlantao" placeholder="Nome completo" style="width: 285px;"> &nbsp; 
        <strong>Recebendo de:</strong> <input type="text" id="recebendoDe" placeholder="Nome do condutor anterior" style="width: 285px;"></p>
        <h2>üöë DADOS DA VIATURA (USA)</h2>
        <table>
            <tr><th>Item</th><th>Informa√ß√£o</th></tr>
            <tr><td><strong>Placa</strong></td><td><input type="text" id="placa" placeholder="Ex: RKU1F52" style="width: 100px;"></td></tr>
            <tr><td><strong>Km Atual</strong></td><td><input type="number" id="kmAtual" placeholder="Ex: 337847" style="width: 100px;"> </td></tr>
            <tr><td><strong>N√≠vel de Combust√≠vel</strong></td><td><input type="text" id="nivelCombustivel" placeholder="Ex: 5/10 tra√ßos" style="width: 100px;"></td></tr>
            <tr><td><strong>CRV V√°lido at√©</strong></td><td><input type="number" id="crvValido" placeholder="Ano" style="width: 100px;"></td></tr>
            <tr><td><strong>Pr√≥xima Troca de √ìleo km</strong></td><td><input type="number" id="proximaTrocaOleo" placeholder="Km" style="width: 100px;"> </td></tr>
            <tr><td><strong>Cart√£o de Abastecimento</strong></td><td><input type="checkbox" id="cartaoDisponivel"> Dispon√≠vel <input type="checkbox" id="cartaoNaoDisponivel"> N√£o Dispon√≠vel</td></tr>
        </table>
        <h2>üõ†Ô∏è STATUS DE INSPE√á√ÉO</h2>
        <p><em>Marque o status com: ‚úÖ OK | ‚ö†Ô∏è Cuidado | üõ†Ô∏è Quebrado | ‚ùå Faltando | üõë Parar ve√≠culo</em></p>
        <table>
            <tr><th>#</th><th>Item</th><th>Status</th><th>Observa√ß√£o</th></tr>
            <tr><td>01</td><td>√ìleo do motor</td><td><input type="text" size="5"></td><td><input type="text" style="width: 500px;"></td></tr>
            <tr><td>02</td><td>√ìleo hidr√°ulico (caixa de dire√ß√£o)</td><td><input type="text" size="5"></td><td><input type="text" style="width: 500px;"></td></tr>
            <tr><td>03</td><td>Fluido do radiador</td><td><input type="text" size="5"></td><td><input type="text" style="width: 500px;"></td></tr>
            <tr><td>04</td><td>√Ågua do limpador de para-brisa</td><td><input type="text" size="5"></td><td><input type="text" style="width: 500px;"></td></tr>
            <tr><td>05</td><td>Correia do alternador</td><td><input type="text" size="5"></td><td><input type="text" style="width: 500px;"></td></tr>
            <tr><td>06</td><td>Correia dentada do motor</td><td><input type="text" size="5"></td><td><input type="text" style="width: 500px;"></td></tr>
            <tr><td>07</td><td>Retrovisores</td><td><input type="text" size="5"></td><td><input type="text" style="width: 500px;"></td></tr>
            <tr><td>08</td><td>Para-brisa</td><td><input type="text" size="5"></td><td><input type="text" style="width: 500px;"></td></tr>
            <tr><td>09</td><td>Caixa de marchas</td><td><input type="text" size="5"></td><td><input type="text" style="width: 500px;"></td></tr>
            <tr><td>10</td><td>Pisca dos retrovisores</td><td><input type="text" size="5"></td><td><input type="text" style="width: 500px;"></td></tr>
            <tr><td>11</td><td>Far√≥is dianteiros</td><td><input type="text" size="5"></td><td><input type="text" style="width: 500px;"></td></tr>
            <tr><td>12</td><td>Lanternas traseiras</td><td><input type="text" size="5"></td><td><input type="text" style="width: 500px;"></td></tr>
            <tr><td>13</td><td>Buzina e pisca de alerta</td><td><input type="text" size="5"></td><td><input type="text" style="width: 500px;"></td></tr>
            <tr><td>14</td><td>Bot√µes dos vidros el√©tricos</td><td><input type="text" size="5"></td><td><input type="text" style="width: 500px;"></td></tr>
            <tr><td>15</td><td>Travamento das portas</td><td><input type="text" size="5"></td><td><input type="text" style="width: 500px;"></td></tr>
            <tr><td>16</td><td>Sinalizadores de emerg√™ncia</td><td><input type="text" size="5"></td><td><input type="text" style="width: 500px;"></td></tr>
            <tr><td>17</td><td>Sirene</td><td><input type="text" size="5"></td><td><input type="text" style="width: 500px;"></td></tr>
            <tr><td>18</td><td>Luzes internas</td><td><input type="text" size="5"></td><td><input type="text" style="width: 500px;"></td></tr>
            <tr><td>19</td><td>Farol de embarque</td><td><input type="text" size="5"></td><td><input type="text" style="width: 500px;"></td></tr>
            <tr><td>20</td><td>Freio de estacionamento</td><td><input type="text" size="5"></td><td><input type="text" style="width: 500px;"></td></tr>
            <tr><td>21</td><td>Pastilhas de freio (dianteira/traseira)</td><td><input type="text" size="5"></td><td><input type="text" style="width: 500px;"></td></tr>
            <tr><td>22</td><td>Pneus</td><td><input type="text" size="5"></td><td><input type="text" style="width: 500px;"></td></tr>
            <tr><td>23</td><td>Macaco, chave de roda, tri√¢ngulo</td><td><input type="text" size="5"></td><td><input type="text" style="width: 500px;"></td></tr>
            <tr><td>24</td><td>Limpadores/palhetas do para-brisa</td><td><input type="text" size="5"></td><td><input type="text" style="width: 500px;"></td></tr>
            <tr><td>25</td><td>Limpeza interna</td><td><input type="text" size="5"></td><td><input type="text" style="width: 500px;"></td></tr>
            <tr><td>26</td><td>Limpeza externa</td><td><input type="text" size="5"></td><td><input type="text" style="width: 500px;"></td></tr>
            <tr><td>27</td><td>Ar condicionado (dianteiro)</td><td><input type="text" size="5"></td><td><input type="text" style="width: 500px;"></td></tr>
            <tr><td>28</td><td>Ar condicionado (traseiro)</td><td><input type="text" size="5"></td><td><input type="text" style="width: 500px;"></td></tr>
            <tr><td>29</td><td>Extintor de inc√™ndio</td><td><input type="text" size="5"></td><td><input type="text" style="width: 500px;"></td></tr>
            <tr><td>30</td><td>Alarme de estacionamento</td><td><input type="text" size="5"></td><td><input type="text" style="width: 500px;"></td></tr>
            <tr><td>31</td><td>Alinhamento/Balanceamento</td><td><input type="text" size="5"></td><td><input type="text" style="width: 500px;"></td></tr>
            <tr><td>32</td><td>Cilindro de oxig√™nio fixo (01)</td><td><input type="text" size="5"></td><td><input type="text" style="width: 500px;"></td></tr>
            <tr><td>33</td><td>Cintos de seguran√ßa</td><td><input type="text" size="5"></td><td><input type="text" style="width: 500px;"></td></tr>
            <tr><td>34</td><td>Maca e cinto de seguran√ßa</td><td><input type="text" size="5"></td><td><input type="text" style="width: 500px;"></td></tr>
            <tr><td>35</td><td>Cadeira de rodas (se aplic√°vel)</td><td><input type="text" size="5"></td><td><input type="text" style="width: 500px;"></td></tr>
            <tr><td>36</td><td>Prancha/Escada</td><td><input type="text" size="5"></td><td><input type="text" style="width: 500px;"></td></tr>
            <tr><td>37</td><td>Bateria, inversor, transformador</td><td><input type="text" size="5"></td><td><input type="text" style="width: 500px;"></td></tr>
            <tr><td>38</td><td>Bancos e capas</td><td><input type="text" size="5"></td><td><input type="text" style="width: 500px;"></td></tr>
            <tr><td>39</td><td>Pintura/Plotagem</td><td><input type="text" size="5"></td><td><input type="text" style="width: 500px;"></td></tr>
            <tr><td>40</td><td>C√¢mera de r√© (se aplic√°vel)</td><td><input type="text" size="5"></td><td><input type="text" style="width: 500px;"></td></tr>
            <tr><td>41</td><td>Chave de troca de oxig√™nio</td><td><input type="text" size="5"></td><td><input type="text" style="width: 500px;"></td></tr>
            <tr><td>42</td><td>Bala de oxig√™nio port√°til</td><td><input type="text" size="5"></td><td><input type="text" style="width: 500px;"></td></tr>
            <tr><td>43</td><td>Desfibrilador</td><td><input type="text" size="5"></td><td><input type="text" style="width: 500px;"></td></tr>
            <tr><td>44</td><td>Monitor</td><td><input type="text" size="5"></td><td><input type="text" style="width: 500px;"></td></tr>
            <tr><td>45</td><td>Respirador</td><td><input type="text" size="5"></td><td><input type="text" style="width: 500px;"></td></tr>
            <tr><td>46</td><td>Ox√≠metro</td><td><input type="text" size="5"></td><td><input type="text" style="width: 500px;"></td></tr>
            <tr><td>47</td><td>Term√¥metro</td><td><input type="text" size="5"></td><td><input type="text" style="width: 500px;"></td></tr>
            <tr><td>48</td><td>Glicos√≠metro</td><td><input type="text" size="5"></td><td><input type="text" style="width: 500px;"></td></tr>
            <tr><td>49</td><td>Bolsa de medica√ß√£o</td><td><input type="text" size="5"></td><td><input type="text" style="width: 500px;"></td></tr>
            <tr><td>50</td><td>Bolsa de entuba√ß√£o</td><td><input type="text" size="5"></td><td><input type="text" style="width: 500px;"></td></tr>
            <tr><td>51</td><td>Bolsa de ventila√ß√£o</td><td><input type="text" size="5"></td><td><input type="text" style="width: 500px;"></td></tr>
            <tr><td>52</td><td>Bolsa via a√©rea</td><td><input type="text" size="5"></td><td><input type="text" style="width: 500px;"></td></tr>
            <tr><td>53</td><td>Arm√°rio do sal√£o</td><td><input type="text" size="5"></td><td><input type="text" style="width: 500px;"></td></tr>
            <tr><td>54</td><td>Gavetas do sal√£o</td><td><input type="text" size="5"></td><td><input type="text" style="width: 500px;"></td></tr>
            <tr><td>55</td><td>Ba√∫ do sal√£o</td><td><input type="text" size="5"></td><td><input type="text" style="width: 500px;"></td></tr>
            <tr><td>56</td><td>Painel de controle do sal√£o</td><td><input type="text" size="5"></td><td><input type="text" style="width: 500px;"></td></tr>
        </table>
        <h2>üõ†Ô∏è OBSERVA√á√ïES DE AVARIAS</h2>
        <textarea id="observacoesAvarias" rows="15" style="width: 100%;"></textarea>
        
        <!-- √Årea para preview dos arquivos carregados -->
        <div id="filePreview" class="file-preview no-print"></div>
        
        <h2>‚úçÔ∏è ASSINATURAS</h2>
        <div class="signature">
            <p><strong>Condutor Recebendo o Plant√£o:</strong><br>
            Nome: _________________________________________<br>
            Assinatura: ___________________ &nbsp; Data: ___/___/____</p>
            <p><strong>Condutor Entregando o Plant√£o:</strong><br>
            Nome: _________________________________________<br>
            Assinatura: ___________________ &nbsp; Data: ___/___/____</p>
        </div>
        <div class="footer">
            <p>üìùDocumento v√°lido como registro de inspe√ß√£o di√°ria ‚Äì LEFE<br>
            üóÇÔ∏è Arquivar ap√≥s preenchimento.<br> Atualizado em 2025.</p>
        </div>
    </div>
    
    <!-- Notifica√ß√£o -->
    <div id="notification" class="notification"></div>
    
    <script>
        // Definir data atual
        document.getElementById("data").value = new Date().toISOString().split("T")[0];
        
        // Array para armazenar os arquivos selecionados
        let selectedFiles = [];
        
        // Event listener para o input de arquivo
        document.getElementById("fileInput").addEventListener("change", function(event) {
            const files = event.target.files;
            
            // Adicionar novos arquivos ao array
            for (let i = 0; i < files.length; i++) {
                selectedFiles.push(files[i]);
            }
            
            // Atualizar a visualiza√ß√£o dos arquivos
            updateFilePreview();
        });
        
        // Fun√ß√£o para atualizar a visualiza√ß√£o dos arquivos
        function updateFilePreview() {
            const previewContainer = document.getElementById("filePreview");
            previewContainer.innerHTML = "";
            
            selectedFiles.forEach((file, index) => {
                const fileItem = document.createElement("div");
                fileItem.className = "file-item";
                
                // Se for uma imagem, criar uma miniatura
                if (file.type.startsWith("image/")) {
                    const img = document.createElement("img");
                    img.src = URL.createObjectURL(file);
                    fileItem.appendChild(img);
                }
                
                // Adicionar nome do arquivo
                const fileName = document.createElement("div");
                fileName.className = "file-name";
                fileName.textContent = file.name;
                fileItem.appendChild(fileName);
                
                // Adicionar bot√£o para remover o arquivo
                const removeButton = document.createElement("button");
                removeButton.className = "remove-file";
                removeButton.innerHTML = "√ó";
                removeButton.onclick = function() {
                    selectedFiles.splice(index, 1);
                    updateFilePreview();
                };
                fileItem.appendChild(removeButton);
                
                previewContainer.appendChild(fileItem);
            });
        }
        
        // Fun√ß√£o para validar campos obrigat√≥rios
        function validateForm() {
            const requiredFields = [
                { id: "hospital", name: "Hospital" },
                { id: "data", name: "Data" },
                { id: "horarioEntrada", name: "Hor√°rio de Entrada" },
                { id: "horarioSaida", name: "Hor√°rio de Sa√≠da" },
                { id: "condutorPlantao", name: "Condutor de Plant√£o" },
                { id: "placa", name: "Placa" },
                { id: "kmAtual", name: "Km Atual" }
            ];
            
            let isValid = true;
            let missingFields = [];
     
